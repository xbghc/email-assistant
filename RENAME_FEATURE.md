# 用户重命名功能

## 功能说明

新增了 `/rename` 管理员命令，用于修改用户的显示名称。

## 使用方法

### 邮件命令方式
管理员发送邮件，主题为：
```
/rename user@example.com 新的用户名
```

### API 测试方式
POST 请求到 `/test/rename-command`：
```json
{
  "email": "user@example.com",
  "newName": "新的用户名"
}
```

## 命令格式

```
/rename <email> <newName>
```

### 参数说明
- `<email>`: 要修改的用户邮箱地址（必填）
- `<newName>`: 新的用户名，支持多个词，用空格分隔（必填）

### 示例
```
/rename john@company.com John Smith
/rename zhang@example.com 张三
/rename user@domain.com 产品经理 小王
```

## 功能特性

1. **参数验证**: 自动检查邮箱和用户名是否提供
2. **用户存在性检查**: 验证用户是否存在于系统中
3. **邮件通知**: 自动向用户发送更名通知邮件
4. **支持多词名称**: 可以设置包含空格的完整姓名
5. **操作记录**: 返回详细的操作结果，包含旧名称和新名称

## 通知邮件

用户更名后会自动收到通知邮件，包含：
- 旧用户名
- 新用户名  
- 更新时间
- 联系管理员信息

## 错误处理

- 参数不足时返回使用说明
- 用户不存在时返回相应错误信息
- 邮件发送失败会记录错误日志但不影响更名操作

## 帮助信息

使用 `/help rename` 可以查看命令的详细用法说明。

## 兼容性

此功能与现有的 `/updateuser` 命令兼容，提供了更简洁的用户名修改方式。